<!DOCTYPE html>
<html lang='en'>

    <head>

        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width", initial-scale="1.0">
        <meta http-equiv="X-UA-Compatible" content="ie-edge">
        <title>My Portfolio</title>

        <!--CSS-->
        <link rel="stylesheet" href="style.css">

        <!--Bootstrap-->
        <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-1BmE4kWBq78iYhFldvKuhfTAU6auU8tT94WrHftjDbrCEXSU1oBoqyl2QvZ6jIW3" crossorigin="anonymous">
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js" integrity="sha384-ka7Sk0Gln4gmtz2MlQnikT1wXgYsOg+OMhuP+IlRH9sENBO0LRn5q+8nbTov4+1p" crossorigin="anonymous"></script>
        
        <!--JQuery-->
        <script type= "text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    
        <!--AOS-->
        <link href="https://unpkg.com/aos@2.3.1/dist/aos.css" rel="stylesheet">
        <script src="https://unpkg.com/aos@2.3.1/dist/aos.js"></script>

        <!--Quicksand font-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Quicksand:wght@300;400;500;600&display=swap" rel="stylesheet">

        <!--Lato-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Lato:wght@300;400&display=swap" rel="stylesheet">

        <!--Bebas NEUE-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Bebas+Neue&display=swap" rel="stylesheet">

        <!--Slick (carousel)-->
        <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.css"/>
        <link rel="stylesheet" type="text/css" href="https://cdnjs.cloudflare.com/ajax/libs/slick-carousel/1.8.1/slick-theme.css"/>
        <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/slick-carousel@1.8.1/slick/slick.min.js"></script>

        <!--Fullpage-->
        <link rel='stylesheet' type='text/css' href='fullPage.js/dist/fullpage.css'>
        <script type='text/javascript' src='fullPage.js/dist/fullpage.js'></script>

        <!--Favicon stuff-->
        <link rel="apple-touch-icon" sizes="180x180" href="favicon/apple-touch-icon.png">
        <link rel="icon" type="image/png" sizes="32x32" href="favicon/favicon-32x32.png">
        <link rel="icon" type="image/png" sizes="16x16" href="favicon/favicon-16x16.png">
        <link rel="manifest" href="favicon/site.webmanifest">
        <link rel="mask-icon" href="favicon/safari-pinned-tab.svg" color="#5bbad5">
        <meta name="msapplication-TileColor" content="#da532c">
        <meta name="theme-color" content="#ffffff">

        <!--Anime.js-->
        <script src='https://cdnjs.cloudflare.com/ajax/libs/animejs/3.2.1/anime.js'></script>

        <!--Roboto-->
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@100;300;400;700;900&display=swap" rel="stylesheet">

    </head>

    <body>

        <div id="fullpage">
            <div class="section" style='background-color:white' data-anchor='landingPageAnchor'>
                <div id='animation'><!--animation goes here--></div>
                <div class='title'>
                    <h1 class='myName' data-aos='fade-up' data-aos-duration='1800'>PABLO PALIZA</h1>
                    <h2 class='myName' style='display:inline-block;margin-left:100px' data-aos='fade-up' data-aos-duration='2000' ><a href='#aboutMeAnchor'>ABOUT ME</a></h2><h2 class='myName' style='display:inline-block;margin-left:30px' data-aos='fade-up' data-aos-duration='2400'><a href='#projectsAnchor'>WORK</a></h2><h2 class='myName' style='display:inline-block;margin-left:30px' data-aos='fade-up' data-aos-duration='2800'><a href='#contactMeAnchor'>CONTACT</a></h2>
                </div>
                
            </div>
            <div class="section" id='aboutMe' data-anchor='aboutMeAnchor' style='background-color:rgb(44, 44, 44)'>
                <div class='container'>
                    <div class='row'>
                        <div class='col-md-8'>
                            <br>
                            <h1 style='text-align:left;color:white' data-aos='fade-right' data-aos-duration='1800'>ABOUT ME</h1>
                            <h3 data-aos='fade-right' data-aos-duration='2200'>I'm an LA-based software and web developer.  My tech stack includes Python, JS, Node.js, and React.</h3>
                        </div>
                        <div class='col-md-4'>
                            <br><br><br>
                            <img src='python_svg.png' height=100px class='lang' style='margin-left: 10rem' data-aos='fade-in' data-aos-duration='1000'><br><br>
                            <img src='react_svg.png' height=100px class='lang' data-aos='fade-in' data-aos-duration='1800'><br>
                            <img src='js_svg.png' height=100px class='lang' style='margin-left: 15rem' data-aos='fade-in' data-aos-duration='2600'><br><br>
                            <img src='node_svg.svg' height=100px class='lang' style='margin-left: 5rem' data-aos='fade-in' data-aos-duration='3200'>
                        </div>
                    </div>
                </div>
            </div>
            <div class="section" id='projects' data-anchor='projectsAnchor' style='background-color:white'>
                <div class='container'>
                    <div class='row'>
                        <div class='col-md-12'>
                            <br>
                            <h1 style='color:black !important' data-aos='fade-down' data-aos-duration='1800'>MY WORK</h1>
                        </div>  
                    </div>
                    <div class='row'>
                        <div class='col-md-6'>
                            <!--insert projects grid-->
                            <div>
                                <div class='project'><h3 style='color:black' data-aos='fade-right' data-aos-duration='1600'>Railguessr</h3></div>
                                <div class='project'><h3 style='color:black' data-aos='fade-right' data-aos-duration='2000'>Over/Under</h3></div>
                                <div class='project'><h3 style='color:black' data-aos='fade-right' data-aos-duration='2400'>ESRA Oil Futures API</h3></div>
                            </div>
                        </div>  
                        <div class='col-md-6'>
                            <div>
                                <div class='project'><h3 style='color:black' data-aos='fade-left' data-aos-duration='1800'>Shop</h3></div>
                                <div class='project'><h3 style='color:black' data-aos='fade-left' data-aos-duration='2200'>Hang.Me</h3></div>
                                <div class='project'><h3 style='color:black' data-aos='fade-left' data-aos-duration='2600'>GitHub</h3></div>
                            </div>
                        </div> 
                    </div>
                         
                </div>
            </div>
            <div class="section" id='contactMe' data-anchor='contactMeAnchor' style='background-color:#FF8300'>
                <div class='container'>
                    <div class='row'>
                        <div class='col-md-12'>
                            <br>
                            <h1 style='text-align:left;color:white' data-aos='fade-left' data-aos-duration='1800'>CONTACT ME</h1>
                        </div>
                    <div>
                    <div class='row'>
                        <div class='col-md-2'>
                            <button class="carousel-control-prev" type="button" data-bs-target="#contactForm" data-bs-slide="prev" id='prevButton' data-aos='fade-up' data-aos-duration='1800'>
                                <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Previous</span>
                            </button>
                        </div>
                        <div class='col-md-8'>  
                            <div id="contactForm" class="carousel slide" data-bs-ride="carousel" data-bs-interval='false' data-aos='fade-up' data-aos-duration='1800'>
                                <div class="carousel-inner">
                                  <div class="carousel-item active" id='slide1'>
                                    <input type='text' class='form-control' id='name' placeholder='Your name' maxlength='50'></input>
                                    <div id='nameInvalidText' class='invalidMessage' style='visibility:hidden'>Cannot leave this field empty.</div>
                                  </div>
                                  <div class="carousel-item" id='slide2'>
                                    <input type='text' class='form-control' id='email' placeholder='Your email' maxlength='50'></input>
                                    <div id='emailInvalidText' class='invalidMessage' style='visibility:hidden'>Please enter a valid email.</div>
                                  </div>
                                  <div class="carousel-item" style='margin-bottom:1rem;' id='slide3'>
                                    <textarea type='text' class='form-control' placeholder='Your message' id='message' maxlength='2500'></textarea>
                                    <div id='messageInvalidText' class='invalidMessage' style='visibility:hidden'>Cannot leave message empty.</div>
                                  </div>
                                </div>   
                            </div>
                        </div>
                        <div class='col-md-2'>
                            <button class="carousel-control-next" type="button" data-bs-target="#contactForm" data-bs-slide-to="0" id='nextButton' data-aos='fade-up' data-aos-duration='1800'>
                                <span class="carousel-control-next-icon" aria-hidden="true"></span>
                                <span class="visually-hidden">Next</span>
                            </button>
                        </div>
                    </div>
                    <div class='row'>
                        <div class='col-md-5'></div>
                        <div class='col-md-2'>
                            <button class='btn btn-primary' type='button' id='submitButton' onclick=sendMail() disabled=true>SUBMIT</button>
                        </div>
                        <div class='col-md-5'></div>
                    </div>
                </div>
            </div>
        </div>

        <script>

            AOS.init();

            new fullpage('#fullpage', {
                //options here
                scrollbar: true,
                autoScrolling:true,
                scrollHorizontally: true,
                normalScrollElements: '#message',
                anchors: ['landingPageAnchor','aboutMeAnchor','projectsAnchor','contactMeAnchor'],
                //navigation: true,         //DE-COMMENT TO ENABLE NAV CIRCLES
                

                //this fixes the AOS on all slides so that it doesn't just work on 1st slide, also triggers...
                //AOS on every scroll.
                onLeave: function(){
                    jQuery('.section [data-aos]').removeClass("aos-animate");
                },
                onSlideLeave: function(){
                    jQuery('.slide [data-aos]').removeClass("aos-animate");
                },
                afterSlideLoad: function(){
                    jQuery('.slide.active [data-aos]').addClass("aos-animate");
                },
                afterLoad: function(){
                    jQuery('.section.active [data-aos]').addClass("aos-animate");
                //jQuery('.fp-table.active .aos-init').addClass('aos-animate');
                }
            });

            //methods
            fullpage_api.setAllowScrolling(true);

            //////////////////////////
            //animejs

            const staggerVisualizerEl = document.querySelector('#animation');
            const fragment = document.createDocumentFragment();
            const grid = [25, 12];
            const col = grid[0];
            const row = grid[1];
            const numberOfElements = col * row;

            for (let i = 0; i < numberOfElements; i++) {
            g=document.createElement('div');
            g.setAttribute('id',i);
            g.setAttribute('class','tile');
            fragment.appendChild(g);
            }

            staggerVisualizerEl.appendChild(fragment);

          


            
            var tl = anime.timeline({
                targets: '#animation div',
                //scale: 3,
                loop: true,
            })/*
            .add({
                scale: .7,
                rotate: 360,
                duration: 10000,
                delay: anime.stagger(200, {grid: grid, from: 150, easing:'easeInSine'})

            })*/
            .add({
                scale: [
                {value: 5, easing: 'easeOutSine', duration: 1000},
                {value: 1, easing: 'easeInOutQuad', duration: 1000}
                ],
                delay: anime.stagger(300, {grid: grid, from: 'center', easing:'easeInSine'}),

            })/*
            .add({
                translateY: -1000,
                duration: 3000,
                
                delay: anime.stagger(100, {grid: grid, from: 'first', easing:'easeInSine'})
            })*/
            

            
           

            tl.play()
            


            
            $('.tile').hover(function() {
                anime ({
                targets: this,
                background: '#FF8300',
                scale: 3,
                //duration: 3000,

                });/*
                }, function() {
                anime ({
                targets: this,
                background: 'linear-gradient(30deg, rgb(233, 233, 233) 20%,rgb(255, 255, 255) 90%)',
                scale: 1
            });*/
            });

            
            $('.lang').hover(function() {
                anime ({
                targets: this,
                scale: 1.5,

                })
                }, function() {
                anime ({
                targets: this,
                scale: 1,
            });
            });


        
            
            //function to make prev/next/submit buttons appear and disappear appopriately when moving through fields

            var contactForm = document.getElementById('contactForm')

            contactForm.addEventListener('slide.bs.carousel', function (e) {
                if(e.relatedTarget.id === 'slide1'){
                    submitButton.style.display = "none";
                    prevButton.style.display = "none";
                }
                else if(e.relatedTarget.id === 'slide2'){
                    prevButton.style.display = "inline";
                    submitButton.style.display = "none";
                    nextButton.style.display = "inline";
                }
                else if(e.relatedTarget.id === 'slide3'){
                    submitButton.style.display = "inline";
                    nextButton.style.display = "none";
                }
            })

            
            //PHPmailer call
            function sendMail () {

                var contactName = document.getElementById('name').value;
                var contactEmail = document.getElementById('email').value;
                var contactMessage = document.getElementById('message').value;

                $.ajax({
                    url:"sendMail.php", //the page containing php script
                    type: "POST", //request type
                    data: {
                        name: contactName,
                        email: contactEmail,
                        message: contactMessage,
                    },
                    success:function(result){
                    alert(result);
                }
                });
            }

            //contactForm inputs validation
            const nameListen = document.querySelector('#name');
            const emailListen = document.querySelector('#email');
            const messageListen = document.querySelector('#message');

            nameListen.addEventListener('blur', checkNameValid);
            emailListen.addEventListener('blur', checkEmailValid);
            messageListen.addEventListener('input', checkMessageValid);


            function checkNameValid(e) {
                if(nameListen.value == ''){
                    nextButton.setAttribute('data-bs-slide-to','0');
                    nextButton.removeAttribute('data-bs-slide');
                    document.getElementById('nameInvalidText').style.visibility='visible';
                }
                else{
                    nextButton.setAttribute('data-bs-slide','next');
                    nextButton.removeAttribute('data-bs-slide-to');
                    document.getElementById('nameInvalidText').style.visibility='hidden';

                }
            }

            var emailRegex = /\S+@\S+\.\S+/;

            function checkEmailValid(e) {
                if(emailListen.value == '' | emailRegex.test(emailListen.value)==false){
                    nextButton.setAttribute('data-bs-slide-to','1');
                    nextButton.removeAttribute('data-bs-slide');
                    document.getElementById('emailInvalidText').style.visibility='visible';
                }
                else{
                    nextButton.setAttribute('data-bs-slide','next');
                    nextButton.removeAttribute('data-bs-slide-to');
                    document.getElementById('emailInvalidText').style.visibility='hidden';

                }
            }

            function checkMessageValid(e) {
                if(messageListen.value == ''){
                    submitButton.setAttribute('disabled',true);
                    document.getElementById('messageInvalidText').style.visibility='visible';
                }
                else{
                    submitButton.removeAttribute('disabled');
                    document.getElementById('messageInvalidText').style.visibility='hidden';

                }
            }


            

            

            

            
        </script>


    </body>

</html>